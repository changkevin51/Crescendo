<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crescendo Note Training Game</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="game-styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸŽ¯ Note Training Game</h1>
            <p>Play the note shown on screen</p>
        </header>

        <main>
            <div class="game-controls">
                <button id="startGameBtn" class="btn primary">Start Game</button>
                <button id="pauseGameBtn" class="btn secondary" disabled>Pause</button>
                <button id="stopGameBtn" class="btn secondary" disabled>Stop</button>
            </div>

            <div class="game-stats">
                <div class="stat-item">
                    <div class="stat-label">Score</div>
                    <div class="stat-value" id="scoreValue">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Streak</div>
                    <div class="stat-value" id="streakValue">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Accuracy</div>
                    <div class="stat-value" id="accuracyValue">0%</div>
                </div>
            </div>

            <div class="game-area">
                <div class="target-note-display">
                    <div class="instruction-text" id="instructionText">Click "Start Game" to begin</div>
                    <div class="target-note" id="targetNote">-</div>
                    <div class="target-octave" id="targetOctave">-</div>
                </div>

                <div class="detection-area">
                    <div class="detected-note" id="detectedNote">-</div>
                    <div class="detection-status" id="detectionStatus">Listening...</div>
                </div>

                <div class="feedback-area" id="feedbackArea">
                    <div class="feedback-message" id="feedbackMessage"></div>
                    <div class="accuracy-details" id="accuracyDetails"></div>
                </div>
            </div>

            <div class="progress-area">
                <div class="time-remaining">
                    <div class="timer-label">Time Left</div>
                    <div class="timer-value" id="timerValue">5.0s</div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <div class="game-settings">
                <div class="setting-group">
                    <label for="difficultySelect">Difficulty:</label>
                    <select id="difficultySelect">
                        <option value="easy">Easy (C3-C5)</option>
                        <option value="medium" selected>Medium (C3-C6)</option>
                        <option value="hard">Hard (C2-C7)</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="timePerNote">Time per note:</label>
                    <select id="timePerNote">
                        <option value="3">3 seconds</option>
                        <option value="5" selected>5 seconds</option>
                        <option value="8">8 seconds</option>
                        <option value="10">10 seconds</option>
                    </select>
                </div>
            </div>
        </main>
    </div>

    <!-- Load external libraries -->
    <script src="https://unpkg.com/meyda@5.3.0/dist/web/meyda.min.js"></script>
    
    <!-- Load our application scripts -->
    <script src="pitch-detector.js"></script>
    <script src="note_statistics.js"></script>
    <script src="note-game.js"></script>
</body>
</html>
